µo«H¤H: guessi.bbs@bbs.wretch.cc (¨S) ¬ÝªO: plan
¼Ð  ÃD: [¥\¯à] ¤å³¹¦CªíÅã¥Ü§@ªÌ¤§¦n¤ÍÃþ§O
µo«H¯¸: µL¦W¤p¯¸ (2006/04/08 Sat 03:45:24)                Updated: 2006/04/08

: /src/maple/post.c:hdr_outs() ¤å³¹¦CªíÅã¥Ü§@ªÌ»P§Úªº¦n¤Í«¬ºA

  /* --------------------------------------------------- */
  /* ¦L¥X§@ªÌ                                            */
  /* --------------------------------------------------- */

#ifdef CHECK_ONLINE
-  if (online = utmp_seek(hdr))
-    outs(COLOR7);
+  online = utmp_seek(hdr);
+  if (online) /* ÀË¬d¬O§_¦b½u¤W ¤£¦b½u¤W«h¤£°µÃC¦âÅÜ¤Æ */
+  {
+    if (is_mygood(acct_userno(hdr->owner)) && is_ogood(online))
+      outs(CCOLOR_BOTHGOOD);           /* ©¼¦¹¤¬¬Û³]©w¬°¦n¤Í Åã¥Ü«G¥Õ */
+    else if (is_mygood(acct_userno(hdr->owner))) /* §Úªº¦n¤Í Åã¥Üºñ¦â */
+      outs(COLOR_MYGOOD);
+    else if (is_ogood(online))         /* ½Ö¥[§Ú¦n¤Í Åã¥Ü¶À¦â */
+      outs(COLOR_OGOOD);
+  }
#endif

--
[1;30;40m¤Ò§LªÌ¤£²»¤§¾¹ª«©Î´c¤§¬G¦³¹DªÌ¤£³B§g¤l©~«h¶Q¥ª¥Î§L«h¶Q¥k§LªÌ¤£²»¤§¾¹«D§g¤l[m
[1;30m¤§¾¹¤£±o¤w[37m[30m¦Ó¥Î¤§«ï²H¬°¤W³Ó¦Ó¤£¬ü¦Ó¬ü¤§ªÌ¬O¼Ö±þ¤H¤Ò¼Ö±þ¤HªÌ«h¤£¥i±o§Ó©ó¤Ñ¤U
[m[1;30m¨o¦N¨Æ©|¥ª¤¿¨Æ©|¥k°¾±N­x©~¥ª¤W±N­x©~¥k¨¥¥H³àÂ§³B¤§±þ¤H¤§²³¥H«s´dª_¤§¾Ô³Ó¥H[m
[1;30m³àÂ§³B¤§¹D±`[37mµL¦W[30m¾ëÁö¤p¤Ñ¤U²ö¯à¦Ú«J¤ý­Y¯à¦u¤§¸Uª«±N¦Û»«¤Ñ¦a¬Û¦X¥H­°¥ÌÅS¥Á²ö[m
[1;30m¤§¥O¦Ó¦Û§¡©l¨î¦³¦W¦W¥ç¬J¦³¤Ò¥ç±Nª¾¤îª¾¤î[37m61-231-211-167.dynamic.hinet.net[30m®ü[m
