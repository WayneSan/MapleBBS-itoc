µo«H¤H: qazq.bbs@bbs.cs.nchu.edu.tw (¡¯§Ú­n¬õ³z¦Û¤v©Ð¶¡¡¯) ¬ÝªO: plan
¼Ð  ÃD: Re: ½Ð°Ý¤@¤U
µo«H¯¸: ¤¤¿³¸ê¬ì ¢í¸ê¿W¨q (2006/08/26 Sat 01:14:16)       Updated: 2007/04/29

¡° ¤Þ­z¡myhl.bbs@cpu.tfcis.org (yhl)¡n¤§»Ê¨¥¡G
> ¦pªG»¡­n°µ¨ì¤@­Óuser¥u¯à¾á¥ô´X­Óª©ª©¥D
> ¸Ó¦p¦ó­×§ï©O
> ²{¶¥¬qª©¥»À³¸Ó¬O¨S¦³°w¹ïuser§@­­¨î§a¡H

    §ä­Ó¦X¾Aªº¦a¤è¥[¤J¤U­±ªº function¡A¥i¥H¥[¦b acct.c

: maple/acct.c:bm_number()  ¨ä¹ê´N¬O§ï¼g bm_list()  :P:P:P

int
bm_number(userid)           /* ¦^¶Ç userid ¾á¥ô¤F´X­ÓªO¥D */
  char *userid;
{
  int len, num;
  BRD *bhdr, *tail;
  extern BCACHE *bshm;

  bhdr = bshm->bcache;
  tail = bhdr + bshm->number;

  len = strlen(userid);
  num = 0;

  do
  {
    list = bhead->BM;
    if (str_has(list, userid, len))
      num++;
  } while (++bhead < btail);

  return num;
}



    µM«á¦b§A·Q­n¥Î¨ìªº®É­Ô©I¥s¥¦¡C

: acct.c:brd_set()
: manage.c:post_changeBM()

    else if (acct_load(&acct, userid) >= 0 && !is_bm(buf, userid))
    {
+     if (bm_number(userid) >= 3)
+     {
+       if (vans("¦¹¤H¤w¾á¥ô¤TªO¥H¤WªºªO¥D¡A"
+         "ÁÙÅý¦¹¤H¾á¥ôªO¥D¶Ü(Y/N)¡H[N] ") != 'y')
+         continue;
+     }

--
[;32mùÝ¢¡[46m      [34m¢f¢h¢g¢h¢i¢g¢f¢h¢f¢e¢h¢g¢f¢g¢e[1;33m ¡³[37m ¡E . [;46m¡C [1;37m£j [;34;46m£» ¡O[37m¡D£j[1;33;40;m . [;33m£»[1m¡O  [37m¡³[36m£][m
[32m¢¢ùå¢~ùß[30;44m¢o[37m  ¤ÑªÅ¤§«° (qazq.twbbs.org) [34;40m¢o[33m£j [36m¡C  [1;30m£i´Á«Ý[m¦bªÅ¤¤[1m»P§A¬Û·| [33m¡C   [36m£_[0;37m¡¿[m
[32m    ùã¢£ [30;44m¢e¢d¢e¢f[37m¢e¢c¢f¢g¢e¢c¢g¢e¢c¢f¢g[;31;47m    218-163-147-83.dynamic.hinet.net[m [1;35m¡©[m
