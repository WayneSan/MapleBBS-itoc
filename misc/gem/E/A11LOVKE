µo´H§H: itoc.bbs@cpu.tfcis.org (Æ÷§ﬂ∞ §O) ¨›™O: plan
º–  √D: Re: [∞›√D] ≈˝™O•DØ‡¨›®Ï±æ¶b™©§W™∫§H
µo´HØ∏: ∞ §OÆ÷§ﬂ (2005/10/24 Mon 14:09:31)              Updated: 2005/10/26

°∞ §ﬁ≠z°mtalon.bbs@bbs.wretch.cc (∂¿©¸¶A¨¸≤◊≠n∂¬©])°n§ßª ®•°G
> ±q®œ•Œ≥o¶W≥Ê∏Ã≠±¨›®Ï™∫™O¶Ò
> •u¶≥•ø¶bæ\≈™§~¨›™∫®Ï
> Ø‡§£Ø‡≈˝™O•D•i•H¨›®Ï¥N∫‚∞h•X¨›™O§F
> ¶˝¡Ÿ¨O±æ¶b§W≠±™∫§H

  ™O•D¿HÆ…≥£•i±o™æ¶b¨›∏”™O™∫®œ•Œ™Ã
  •ø¶b¨›¨€¶P¨›™O™∫®œ•Œ™Ã•i±o™æ¶b¨›∏”™O™∫®œ•Œ™Ã

: talk.c:bmode()

- /* itoc.020602: Ø∏™¯±o™æ®œ•Œ™Ã¶b¨›≠˛≠”™O */
- if (mode == M_READA && HAS_PERM(PERM_SYSOP))
+ if (mode == M_READA)
+ {
+   extern BCACHE *bshm;
+   int bno;
+   char *blist;
+
+   bno = brd_bno(up->reading);
+   if (bno >= 0)
+   {
+     blist = (bshm->bcache + bno)->BM;
+     if (HAS_PERM(PERM_ALLBOARD) ||
+       (HAS_PERM(PERM_BM) && blist[0] > ' ' && is_bm(blist, cuser.userid)) ||
+       (!strcmp(currboard, up->reading)))
      {
        sprintf(modestr, "æ\\:%s", up->reading);
        return modestr;
      }
+   }
+ }

--
[1;36m=[37m[[36m°…[37m:[33m°[37m›¢®[m¢©°[1;33m›[37m:[36m°… [31mOrigin[37m ]|[[m  [0;31m∞[1m [1m§[0;31mO[0;31mÆ[1m÷[1m§[0;31mﬂ [1mcpu.tfcis.org  [37m]|[°[33m›£ª°[m›[1;36m°…[37m:][36m=[m
[1;36m=[0m[[1;36m°«[37m:[33m°[30m›¢™[m¢¨°[1;33m›[37m:[36m°« [31mAuthor[m ]|[[1m itoc.dorm11.nctu.edu.tw  [m]|[°[1;33m›[30m°[37m¥°[30m›[36m°«[37m:[m][1;36m=[m
